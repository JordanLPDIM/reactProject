{"ast":null,"code":"import _slicedToArray from\"C:/reactprojet/reactproject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{getAuth,signInWithEmailAndPassword,onAuthStateChanged,signOut}from\"firebase/auth\";import app from'./firebase';import{useState,useEffect}from'react';import Navigation from\"./navigation\";import'./styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var auth=getAuth(app);function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];useEffect(function(){var unsubscribe=onAuthStateChanged(auth,function(user){setUser(user);});return unsubscribe;},[]);var handleSignIn=function handleSignIn(){signInWithEmailAndPassword(auth,email,password).then(function(userCredential){var user=userCredential.user;setUser(user);}).catch(function(error){var errorCode=error.code;var errorMessage=error.message;});};var handleSignOut=function handleSignOut(){signOut(auth).then(function(){setUser(null);}).catch(function(error){// Handle errors here\nconsole.error(error);});};return/*#__PURE__*/ (// <><Navigation></Navigation>\n_jsx(\"div\",{className:\"login\",children:user?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Vous \\xEAtes connect\\xE9 !\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,children:\"Se deconnecter\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"mydiv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sub-main\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Connexion\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"user name\",className:\"name\",onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"second-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",className:\"name\",onChange:function onChange(e){return setPassword(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"login-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSignIn,children:\"Se connecter\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"link\",children:/*#__PURE__*/_jsx(\"a\",{href:\"register\",children:\"Cr\\xE9er un compte\"})})]})})})})})}));}export default Login;","map":{"version":3,"names":["getAuth","signInWithEmailAndPassword","onAuthStateChanged","signOut","app","useState","useEffect","Navigation","jsx","_jsx","jsxs","_jsxs","auth","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","user","setUser","unsubscribe","handleSignIn","then","userCredential","catch","error","errorCode","code","errorMessage","message","handleSignOut","console","className","children","onClick","type","placeholder","onChange","e","target","value","href"],"sources":["C:/reactprojet/reactproject/src/login.js"],"sourcesContent":["import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport app from './firebase';\r\nimport { useState, useEffect } from 'react';\r\nimport Navigation from \"./navigation\";\r\nimport './styles.css';\r\n\r\nconst auth = getAuth(app);\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setUser(user);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const handleSignIn = () => {\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then((userCredential) => {\r\n        const user = userCredential.user;\r\n        setUser(user);\r\n      })\r\n      .catch((error) => {\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n      });\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    signOut(auth).then(() => {\r\n      setUser(null);\r\n    }).catch((error) => {\r\n      // Handle errors here\r\n      console.error(error);\r\n    });\r\n  };\r\n\r\n  return (\r\n\r\n    // <><Navigation></Navigation>\r\n    \r\n    <div className='login'>\r\n  {user ? (\r\n    <div>\r\n      <h2>Vous êtes connecté !</h2>\r\n      <button onClick={handleSignOut}>Se deconnecter</button>\r\n    </div>\r\n  ) : (\r\n    <div className='mydiv'>\r\n      <div className=\"main\">\r\n        <div className=\"sub-main\">\r\n          <div>\r\n           \r\n            <div>\r\n              <h1>Connexion</h1>\r\n              <div>\r\n                \r\n                <input type={\"email\"} placeholder=\"user name\" className=\"name\" onChange={(e) => setEmail(e.target.value)} />\r\n              </div>\r\n              <div className=\"second-input\">\r\n                <input type={\"password\"} placeholder=\"password\" className=\"name\" onChange={(e) => setPassword(e.target.value)} />\r\n              </div>\r\n              <div className=\"login-button\">\r\n                <button onClick={handleSignIn}>Se connecter</button>\r\n              </div>\r\n              <p className=\"link\">\r\n                 <a href=\"register\">Créer un compte</a>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )}\r\n</div>\r\n\r\n  );\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}